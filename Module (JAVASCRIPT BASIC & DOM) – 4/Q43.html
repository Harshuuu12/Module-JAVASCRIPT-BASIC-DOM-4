<!-- Q.43 Write a JavaScript program to convert an array of objects into CSV string?  -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        const data = [
            { name: "Harsh", age: 18, city: "Surat" },
            { name: "Harshil", age: 18, city: "Surat" },
            { name: "Subham", age: 18, city: "Surat" }
        ];

        const headers = Object.keys(data[0] || {});
        const csvRows = [];

        csvRows.push(headers.join(','));

        data.forEach(obj => {
            const values = headers.map(header => {
                const escaped = ('' + obj[header]).replace(/"/g, '""');
                return `"${escaped}"`;
            });
            csvRows.push(values.join(','));
        });
        const csvString = csvRows.join('\n');
        console.log(csvString);

    </script>
</body>
</html>